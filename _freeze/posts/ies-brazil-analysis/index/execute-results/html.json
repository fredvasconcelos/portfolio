{
  "hash": "f3fd9b1a8c3acb2a1b409bab28ed8552",
  "result": {
    "markdown": "---\ntitle: \"IES Analysis Brazil\"\nauthor: \"Fred Vasconcelos\"\ndate: \"2023-07-31\"\ncategories: [education, analysis, r, ggplot2]\nimage: \"image.jpg\"\ntoc: true\ntoc-title: \"Contents\"\ntoc-location: left\n---\n\n\n\n\n::: panel-tabset\n\n# Article\n\n## Description\n\nNosso objetivo é ler os dados do governo e entender padrões ao longo dos anos\n\n# Code\n\n## 1. Load libraries\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(rstatix)\nlibrary(ggplot2)\nlibrary(factoextra)\nlibrary(ggrepel)\nlibrary(cluster)\nlibrary(ggthemes)\n```\n:::\n\n\n## 2. Load data\n\nWe create a list of data frames for faster de creation of the data.\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlisted_df <- file_paths %>%\n  map(function (path) {\n    read.csv(path, sep = ';', encoding = 'latin1')\n  }) %>%\n  tibble() \n```\n:::\n\n\n## 3. Feature enginering\n\nThe data frames don't have information about Regions and States of Brazil because. We get this information with the *IES CODE* in the **IES DATABASE**.\n\n\n::: {.cell}\n\n:::\n\n\n## 4. View data frame structure\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlisted_df %>%\n  unnest(cols = '.') %>%\n  head()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 201\n  NU_ANO_CENSO NO_REGIAO CO_REGIAO NO_UF   SG_UF CO_UF NO_MUNICIPIO CO_MUNICIPIO\n         <int> <chr>         <int> <chr>   <chr> <int> <chr>               <int>\n1         2009 Norte             1 Rondôn… RO       11 Ariquemes         1100023\n2         2009 Norte             1 Rondôn… RO       11 Ariquemes         1100023\n3         2009 Norte             1 Rondôn… RO       11 Ariquemes         1100023\n4         2009 Norte             1 Rondôn… RO       11 Ariquemes         1100023\n5         2009 Norte             1 Rondôn… RO       11 Ariquemes         1100023\n6         2009 Norte             1 Rondôn… RO       11 Ariquemes         1100023\n# ℹ 193 more variables: IN_CAPITAL <int>, TP_DIMENSAO <int>,\n#   TP_ORGANIZACAO_ACADEMICA <int>, TP_CATEGORIA_ADMINISTRATIVA <int>,\n#   TP_REDE <int>, CO_IES <int>, NO_CURSO <chr>, CO_CURSO <int>,\n#   NO_CINE_ROTULO <chr>, CO_CINE_ROTULO <chr>, CO_CINE_AREA_GERAL <int>,\n#   NO_CINE_AREA_GERAL <chr>, CO_CINE_AREA_ESPECIFICA <int>,\n#   NO_CINE_AREA_ESPECIFICA <chr>, CO_CINE_AREA_DETALHADA <int>,\n#   NO_CINE_AREA_DETALHADA <chr>, TP_GRAU_ACADEMICO <int>, IN_GRATUITO <int>, …\n```\n:::\n:::\n\n\n## 5. Describe variables\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlisted_df %>%\n  unnest(cols = '.') %>%\n  skimr::skim()\n```\n\n::: {.cell-output-display}\nTable: Data summary\n\n|                         |           |\n|:------------------------|:----------|\n|Name                     |Piped data |\n|Number of rows           |1886955    |\n|Number of columns        |201        |\n|_______________________  |           |\n|Column type frequency:   |           |\n|character                |11         |\n|numeric                  |190        |\n|________________________ |           |\n|Group variables          |None       |\n\n\n**Variable type: character**\n\n|skim_variable           | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:-----------------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|NO_REGIAO               |         0|          1.00|   0|  12| 34256|        6|          0|\n|NO_UF                   |         0|          1.00|   0|  19| 34256|       28|          0|\n|SG_UF                   |         0|          1.00|   0|   2| 34256|       28|          0|\n|NO_MUNICIPIO            |         0|          1.00|   0|  29| 34256|     3198|          0|\n|NO_CURSO                |         0|          1.00|   3| 200|     0|     9370|          0|\n|NO_CINE_ROTULO          |         0|          1.00|   4|  98|     0|      366|          0|\n|CO_CINE_ROTULO          |    344691|          0.82|   9|   9|     0|      366|          0|\n|NO_CINE_AREA_GERAL      |         0|          1.00|   8|  58|     0|       11|          0|\n|NO_CINE_AREA_ESPECIFICA |         0|          1.00|   5|  98|     0|       37|          0|\n|NO_CINE_AREA_DETALHADA  |         0|          1.00|   5|  98|     0|       89|          0|\n|CO_CINE_ROTULO2         |   1542264|          0.18|   9|   9|     0|      350|          0|\n\n\n**Variable type: numeric**\n\n|skim_variable                | n_missing| complete_rate|       mean|        sd|      p0|     p25|     p50|     p75|     p100|hist  |\n|:----------------------------|---------:|-------------:|----------:|---------:|-------:|-------:|-------:|-------:|--------:|:-----|\n|NU_ANO_CENSO                 |         0|          1.00|    2017.69|      3.44|    2009|    2016|    2019|    2020|     2021|▁▁▂▂▇ |\n|CO_REGIAO                    |     34256|          0.98|       3.06|      1.05|       1|       2|       3|       4|        5|▂▃▇▅▂ |\n|CO_UF                        |     34256|          0.98|      34.03|      9.55|      11|      29|      35|      41|       53|▂▂▇▃▂ |\n|CO_MUNICIPIO                 |     34256|          0.98| 3419623.40| 955648.59| 1100015| 2927408| 3509502| 4119905|  5300108|▂▂▇▃▂ |\n|IN_CAPITAL                   |     34256|          0.98|       0.17|      0.38|       0|       0|       0|       0|        1|▇▁▁▁▂ |\n|TP_DIMENSAO                  |         0|          1.00|       1.79|      0.45|       1|       2|       2|       2|        4|▂▇▁▁▁ |\n|TP_ORGANIZACAO_ACADEMICA     |         0|          1.00|       1.60|      0.73|       1|       1|       1|       2|        5|▇▅▂▁▁ |\n|TP_CATEGORIA_ADMINISTRATIVA  |         0|          1.00|       4.04|      1.03|       1|       4|       4|       4|        9|▁▇▂▁▁ |\n|TP_REDE                      |     64865|          0.97|       1.90|      0.30|       1|       2|       2|       2|        2|▁▁▁▁▇ |\n|CO_IES                       |         0|          1.00|    1362.33|   2451.04|       1|     322|     671|    1491|    25613|▇▁▁▁▁ |\n|CO_CURSO                     |         0|          1.00|  896052.29| 709979.97|       1|  100630| 1190156| 1382707| 50017018|▇▁▁▁▁ |\n|CO_CINE_AREA_GERAL           |         0|          1.00|       4.24|      2.77|       0|       1|       4|       6|       10|▆▇▂▂▃ |\n|CO_CINE_AREA_ESPECIFICA      |         0|          1.00|      43.59|     27.85|       1|      11|      41|      61|      108|▆▇▂▂▃ |\n|CO_CINE_AREA_DETALHADA       |         0|          1.00|     439.15|    278.37|      11|     115|     413|     615|     1088|▆▇▂▂▃ |\n|TP_GRAU_ACADEMICO            |      4349|          1.00|       2.07|      0.86|       1|       1|       2|       3|        4|▇▅▁▇▁ |\n|IN_GRATUITO                  |     52146|          0.97|       0.09|      0.28|       0|       0|       0|       0|        1|▇▁▁▁▁ |\n|TP_MODALIDADE_ENSINO         |         0|          1.00|       1.78|      0.42|       1|       2|       2|       2|        2|▂▁▁▁▇ |\n|TP_NIVEL_ACADEMICO           |         0|          1.00|       1.00|      0.03|       1|       1|       1|       1|        2|▇▁▁▁▁ |\n|QT_CURSO                     |    726856|          0.61|       0.39|      0.49|       0|       0|       0|       1|        1|▇▁▁▁▅ |\n|QT_VG_TOTAL                  |    726856|          0.61|     116.34|   1257.30|       0|       0|       0|      76|   149108|▇▁▁▁▁ |\n|QT_VG_TOTAL_DIURNO           |    746430|          0.60|      20.19|     75.10|       0|       0|       0|       0|    20134|▇▁▁▁▁ |\n|QT_VG_TOTAL_NOTURNO          |    746430|          0.60|      36.45|    101.28|       0|       0|       0|      35|    20142|▇▁▁▁▁ |\n|QT_VG_TOTAL_EAD              |    726856|          0.61|      60.66|   1250.52|       0|       0|       0|       0|   149108|▇▁▁▁▁ |\n|QT_VG_NOVA                   |    726856|          0.61|      69.96|   1069.28|       0|       0|       0|       0|    74600|▇▁▁▁▁ |\n|QT_VG_PROC_SELETIVO          |    726856|          0.61|       0.00|      0.00|       0|       0|       0|       0|        0|▁▁▇▁▁ |\n|QT_VG_REMANESC               |    726856|          0.61|      24.90|    362.78|       0|       0|       0|       0|    74587|▇▁▁▁▁ |\n|QT_VG_PROG_ESPECIAL          |    726856|          0.61|       0.31|     42.04|       0|       0|       0|       0|    29840|▇▁▁▁▁ |\n|QT_INSCRITO_TOTAL            |    726856|          0.61|     164.07|   1357.11|       0|       0|       0|      70|   398817|▇▁▁▁▁ |\n|QT_INSCRITO_TOTAL_DIURNO     |    746430|          0.60|      67.33|    456.00|       0|       0|       0|       0|   112694|▇▁▁▁▁ |\n|QT_INSCRITO_TOTAL_NOTURNO    |    746430|          0.60|      58.62|    266.04|       0|       0|       0|       0|    59935|▇▁▁▁▁ |\n|QT_INSCRITO_TOTAL_EAD        |    726856|          0.61|      34.27|   1227.58|       0|       0|       0|       0|   398817|▇▁▁▁▁ |\n|QT_INSC_VG_NOVA              |    726856|          0.61|     111.68|   1256.57|       0|       0|       0|       0|   398254|▇▁▁▁▁ |\n|QT_INSC_PROC_SELETIVO        |    726856|          0.61|       0.00|      0.00|       0|       0|       0|       0|        0|▁▁▇▁▁ |\n|QT_INSC_VG_REMANESC          |    726856|          0.61|       8.82|    217.44|       0|       0|       0|       0|   126798|▇▁▁▁▁ |\n|QT_INSC_VG_PROG_ESPECIAL     |    726856|          0.61|       0.29|     15.20|       0|       0|       0|       0|     5028|▇▁▁▁▁ |\n|QT_ING                       |     19574|          0.99|      20.98|     59.29|       0|       1|       3|      17|    12082|▇▁▁▁▁ |\n|QT_ING_FEM                   |     19574|          0.99|      11.81|     38.69|       0|       0|       1|       8|    11116|▇▁▁▁▁ |\n|QT_ING_MASC                  |     19574|          0.99|       9.17|     27.34|       0|       0|       1|       6|     3333|▇▁▁▁▁ |\n|QT_ING_DIURNO                |     19574|          0.99|       4.84|     24.08|       0|       0|       0|       0|     1821|▇▁▁▁▁ |\n|QT_ING_NOTURNO               |     19574|          0.99|       8.25|     32.73|       0|       0|       0|       0|     5041|▇▁▁▁▁ |\n|QT_ING_VG_NOVA               |     19574|          0.99|      12.73|     41.13|       0|       0|       1|       7|     5041|▇▁▁▁▁ |\n|QT_ING_VESTIBULAR            |     19574|          0.99|      14.70|     44.22|       0|       0|       2|       9|     5037|▇▁▁▁▁ |\n|QT_ING_ENEM                  |     19574|          0.99|       3.84|     18.56|       0|       0|       0|       1|     1714|▇▁▁▁▁ |\n|QT_ING_AVALIACAO_SERIADA     |     19574|          0.99|       0.06|      1.39|       0|       0|       0|       0|      301|▇▁▁▁▁ |\n|QT_ING_SELECAO_SIMPLIFICA    |     19574|          0.99|       0.98|     10.85|       0|       0|       0|       0|     2292|▇▁▁▁▁ |\n|QT_ING_EGR                   |     19574|          0.99|       0.01|      0.74|       0|       0|       0|       0|      202|▇▁▁▁▁ |\n|QT_ING_OUTRO_TIPO_SELECAO    |     19574|          0.99|       0.00|      0.00|       0|       0|       0|       0|        0|▁▁▇▁▁ |\n|QT_ING_PROC_SELETIVO         |     19574|          0.99|       0.00|      0.00|       0|       0|       0|       0|        0|▁▁▇▁▁ |\n|QT_ING_VG_REMANESC           |     19574|          0.99|       1.67|     11.91|       0|       0|       0|       0|     2366|▇▁▁▁▁ |\n|QT_ING_VG_PROG_ESPECIAL      |     19574|          0.99|       0.05|      1.86|       0|       0|       0|       0|      601|▇▁▁▁▁ |\n|QT_ING_OUTRA_FORMA           |     19574|          0.99|       0.75|     14.12|       0|       0|       0|       0|    12023|▇▁▁▁▁ |\n|QT_ING_0_17                  |     19574|          0.99|       0.18|      1.11|       0|       0|       0|       0|      167|▇▁▁▁▁ |\n|QT_ING_18_24                 |     19574|          0.99|      10.90|     33.36|       0|       0|       1|       5|     2579|▇▁▁▁▁ |\n|QT_ING_25_29                 |     19574|          0.99|       3.57|     11.06|       0|       0|       1|       3|     1865|▇▁▁▁▁ |\n|QT_ING_30_34                 |     19574|          0.99|       2.50|      8.34|       0|       0|       0|       2|     2411|▇▁▁▁▁ |\n|QT_ING_35_39                 |     19574|          0.99|       1.72|      6.28|       0|       0|       0|       1|     2281|▇▁▁▁▁ |\n|QT_ING_40_49                 |     19574|          0.99|       1.62|      6.78|       0|       0|       0|       1|     3101|▇▁▁▁▁ |\n|QT_ING_50_59                 |     19574|          0.99|       0.43|      2.13|       0|       0|       0|       0|      993|▇▁▁▁▁ |\n|QT_ING_60_MAIS               |     19574|          0.99|       0.06|      0.41|       0|       0|       0|       0|      131|▇▁▁▁▁ |\n|QT_ING_BRANCA                |     19574|          0.99|       6.76|     22.95|       0|       0|       1|       4|     2537|▇▁▁▁▁ |\n|QT_ING_PRETA                 |     19574|          0.99|       1.06|      4.63|       0|       0|       0|       1|      638|▇▁▁▁▁ |\n|QT_ING_PARDA                 |     19574|          0.99|       4.44|     18.31|       0|       0|       0|       2|     2121|▇▁▁▁▁ |\n|QT_ING_AMARELA               |     19574|          0.99|       0.26|      1.66|       0|       0|       0|       0|      358|▇▁▁▁▁ |\n|QT_ING_INDIGENA              |     19574|          0.99|       0.08|      1.21|       0|       0|       0|       0|      313|▇▁▁▁▁ |\n|QT_ING_CORND                 |     19574|          0.99|       8.39|     36.16|       0|       0|       0|       3|    11944|▇▁▁▁▁ |\n|QT_MAT                       |     19574|          0.99|      53.81|    159.59|       0|       1|       4|      35|    16351|▇▁▁▁▁ |\n|QT_MAT_FEM                   |     19574|          0.99|      30.85|    100.77|       0|       0|       2|      17|    14801|▇▁▁▁▁ |\n|QT_MAT_MASC                  |     19574|          0.99|      22.96|     74.28|       0|       0|       2|      12|     5946|▇▁▁▁▁ |\n|QT_MAT_DIURNO                |     19574|          0.99|      15.42|     78.93|       0|       0|       0|       0|     5657|▇▁▁▁▁ |\n|QT_MAT_NOTURNO               |     19574|          0.99|      23.66|     92.09|       0|       0|       0|       0|     6105|▇▁▁▁▁ |\n|QT_MAT_0_17                  |     19574|          0.99|       0.17|      1.06|       0|       0|       0|       0|      173|▇▁▁▁▁ |\n|QT_MAT_18_24                 |     19574|          0.99|      26.97|     92.11|       0|       0|       1|       9|     6068|▇▁▁▁▁ |\n|QT_MAT_25_29                 |     19574|          0.99|      10.69|     32.17|       0|       0|       1|       7|     2391|▇▁▁▁▁ |\n|QT_MAT_30_34                 |     19574|          0.99|       6.39|     20.17|       0|       0|       1|       5|     2815|▇▁▁▁▁ |\n|QT_MAT_35_39                 |     19574|          0.99|       4.23|     14.83|       0|       0|       1|       3|     3006|▇▁▁▁▁ |\n|QT_MAT_40_49                 |     19574|          0.99|       4.05|     16.96|       0|       0|       1|       3|     4803|▇▁▁▁▁ |\n|QT_MAT_50_59                 |     19574|          0.99|       1.14|      5.82|       0|       0|       0|       1|     2101|▇▁▁▁▁ |\n|QT_MAT_60_MAIS               |     19574|          0.99|       0.18|      1.08|       0|       0|       0|       0|      323|▇▁▁▁▁ |\n|QT_MAT_BRANCA                |     19574|          0.99|      18.09|     69.89|       0|       0|       1|       7|     6620|▇▁▁▁▁ |\n|QT_MAT_PRETA                 |     19574|          0.99|       2.73|     12.57|       0|       0|       0|       1|     1067|▇▁▁▁▁ |\n|QT_MAT_PARDA                 |     19574|          0.99|      11.20|     46.99|       0|       0|       1|       4|     4319|▇▁▁▁▁ |\n|QT_MAT_AMARELA               |     19574|          0.99|       0.72|      5.05|       0|       0|       0|       0|     1253|▇▁▁▁▁ |\n|QT_MAT_INDIGENA              |     19574|          0.99|       0.22|      3.28|       0|       0|       0|       0|     1309|▇▁▁▁▁ |\n|QT_MAT_CORND                 |     19574|          0.99|      20.85|     92.49|       0|       0|       1|       6|    16285|▇▁▁▁▁ |\n|QT_CONC                      |     19574|          0.99|       7.87|     29.54|       0|       0|       0|       3|     6441|▇▁▁▁▁ |\n|QT_CONC_FEM                  |     19574|          0.99|       4.79|     20.81|       0|       0|       0|       1|     5998|▇▁▁▁▁ |\n|QT_CONC_MASC                 |     19574|          0.99|       3.08|     12.03|       0|       0|       0|       1|     2932|▇▁▁▁▁ |\n|QT_CONC_DIURNO               |     19574|          0.99|       2.02|     12.21|       0|       0|       0|       0|     1375|▇▁▁▁▁ |\n|QT_CONC_NOTURNO              |     19574|          0.99|       3.72|     16.30|       0|       0|       0|       0|     1459|▇▁▁▁▁ |\n|QT_CONC_0_17                 |     19574|          0.99|       0.00|      0.01|       0|       0|       0|       0|        5|▇▁▁▁▁ |\n|QT_CONC_18_24                |     19574|          0.99|       2.85|     11.58|       0|       0|       0|       0|     1188|▇▁▁▁▁ |\n|QT_CONC_25_29                |     19574|          0.99|       2.10|      7.87|       0|       0|       0|       1|     1136|▇▁▁▁▁ |\n|QT_CONC_30_34                |     19574|          0.99|       1.13|      4.89|       0|       0|       0|       0|     1319|▇▁▁▁▁ |\n|QT_CONC_35_39                |     19574|          0.99|       0.76|      3.99|       0|       0|       0|       0|     1304|▇▁▁▁▁ |\n|QT_CONC_40_49                |     19574|          0.99|       0.77|      5.43|       0|       0|       0|       0|     2585|▇▁▁▁▁ |\n|QT_CONC_50_59                |     19574|          0.99|       0.23|      2.08|       0|       0|       0|       0|     1343|▇▁▁▁▁ |\n|QT_CONC_60_MAIS              |     19574|          0.99|       0.04|      0.36|       0|       0|       0|       0|      147|▇▁▁▁▁ |\n|QT_CONC_BRANCA               |     19574|          0.99|       2.70|     12.18|       0|       0|       0|       1|     1467|▇▁▁▁▁ |\n|QT_CONC_PRETA                |     19574|          0.99|       0.34|      2.05|       0|       0|       0|       0|      311|▇▁▁▁▁ |\n|QT_CONC_PARDA                |     19574|          0.99|       1.47|      7.81|       0|       0|       0|       0|      939|▇▁▁▁▁ |\n|QT_CONC_AMARELA              |     19574|          0.99|       0.11|      1.03|       0|       0|       0|       0|      294|▇▁▁▁▁ |\n|QT_CONC_INDIGENA             |     19574|          0.99|       0.03|      0.70|       0|       0|       0|       0|      356|▇▁▁▁▁ |\n|QT_CONC_CORND                |     19574|          0.99|       3.22|     20.42|       0|       0|       0|       0|     6404|▇▁▁▁▁ |\n|QT_ING_NACBRAS               |     19574|          0.99|      20.95|     59.20|       0|       1|       3|      17|    12071|▇▁▁▁▁ |\n|QT_ING_NACESTRANG            |     19574|          0.99|       0.04|      0.55|       0|       0|       0|       0|      406|▇▁▁▁▁ |\n|QT_MAT_NACBRAS               |     19574|          0.99|      53.70|    159.32|       0|       1|       4|      35|    16351|▇▁▁▁▁ |\n|QT_MAT_NACESTRANG            |     19574|          0.99|       0.11|      1.37|       0|       0|       0|       0|      526|▇▁▁▁▁ |\n|QT_CONC_NACBRAS              |     19574|          0.99|       7.86|     29.50|       0|       0|       0|       3|     6441|▇▁▁▁▁ |\n|QT_CONC_NACESTRANG           |     19574|          0.99|       0.02|      0.40|       0|       0|       0|       0|      262|▇▁▁▁▁ |\n|QT_ALUNO_DEFICIENTE          |     19574|          0.99|       0.34|      2.23|       0|       0|       0|       0|      672|▇▁▁▁▁ |\n|QT_ING_DEFICIENTE            |     19574|          0.99|       0.09|      0.76|       0|       0|       0|       0|      372|▇▁▁▁▁ |\n|QT_MAT_DEFICIENTE            |     19574|          0.99|       0.25|      1.85|       0|       0|       0|       0|      617|▇▁▁▁▁ |\n|QT_CONC_DEFICIENTE           |     19574|          0.99|       0.03|      0.34|       0|       0|       0|       0|       84|▇▁▁▁▁ |\n|QT_ING_FINANC                |     19574|          0.99|       6.50|     29.91|       0|       0|       0|       2|     3403|▇▁▁▁▁ |\n|QT_ING_FINANC_REEMB          |     19574|          0.99|       1.43|     11.05|       0|       0|       0|       0|     1675|▇▁▁▁▁ |\n|QT_ING_FIES                  |     19574|          0.99|       1.10|      9.94|       0|       0|       0|       0|     1675|▇▁▁▁▁ |\n|QT_ING_RPFIES                |     19574|          0.99|       0.25|      4.09|       0|       0|       0|       0|      654|▇▁▁▁▁ |\n|QT_ING_FINANC_REEMB_OUTROS   |     19574|          0.99|       0.09|      1.93|       0|       0|       0|       0|      638|▇▁▁▁▁ |\n|QT_ING_FINANC_NREEMB         |     19574|          0.99|       5.47|     27.29|       0|       0|       0|       2|     3398|▇▁▁▁▁ |\n|QT_ING_PROUNII               |     19574|          0.99|       0.76|      3.78|       0|       0|       0|       0|      623|▇▁▁▁▁ |\n|QT_ING_PROUNIP               |     19574|          0.99|       0.25|      2.77|       0|       0|       0|       0|      613|▇▁▁▁▁ |\n|QT_ING_NRPFIES               |     19574|          0.99|       4.15|     25.11|       0|       0|       0|       1|     3372|▇▁▁▁▁ |\n|QT_ING_FINANC_NREEMB_OUTROS  |     19574|          0.99|       0.43|      4.94|       0|       0|       0|       0|      899|▇▁▁▁▁ |\n|QT_MAT_FINANC                |     19574|          0.99|      16.14|     73.11|       0|       0|       0|       3|     8369|▇▁▁▁▁ |\n|QT_MAT_FINANC_REEMB          |     19574|          0.99|       5.41|     36.24|       0|       0|       0|       0|     3801|▇▁▁▁▁ |\n|QT_MAT_FIES                  |     19574|          0.99|       4.68|     33.92|       0|       0|       0|       0|     3797|▇▁▁▁▁ |\n|QT_MAT_RPFIES                |     19574|          0.99|       0.50|      7.97|       0|       0|       0|       0|     2806|▇▁▁▁▁ |\n|QT_MAT_FINANC_REEMB_OUTROS   |     19574|          0.99|       0.32|      5.68|       0|       0|       0|       0|     2775|▇▁▁▁▁ |\n|QT_MAT_FINANC_NREEMB         |     19574|          0.99|      11.90|     58.13|       0|       0|       0|       3|     8365|▇▁▁▁▁ |\n|QT_MAT_PROUNII               |     19574|          0.99|       2.51|     11.74|       0|       0|       0|       0|     1111|▇▁▁▁▁ |\n|QT_MAT_PROUNIP               |     19574|          0.99|       0.82|      8.26|       0|       0|       0|       0|     1401|▇▁▁▁▁ |\n|QT_MAT_NRPFIES               |     19574|          0.99|       7.76|     49.19|       0|       0|       0|       1|     7950|▇▁▁▁▁ |\n|QT_MAT_FINANC_NREEMB_OUTROS  |     19574|          0.99|       1.16|     12.77|       0|       0|       0|       0|     4098|▇▁▁▁▁ |\n|QT_CONC_FINANC               |     19574|          0.99|       2.16|     11.27|       0|       0|       0|       0|     1377|▇▁▁▁▁ |\n|QT_CONC_FINANC_REEMB         |     19574|          0.99|       0.72|      5.62|       0|       0|       0|       0|      700|▇▁▁▁▁ |\n|QT_CONC_FIES                 |     19574|          0.99|       0.64|      5.27|       0|       0|       0|       0|      693|▇▁▁▁▁ |\n|QT_CONC_RPFIES               |     19574|          0.99|       0.05|      1.35|       0|       0|       0|       0|      683|▇▁▁▁▁ |\n|QT_CONC_FINANC_REEMB_OUTROS  |     19574|          0.99|       0.05|      1.27|       0|       0|       0|       0|      469|▇▁▁▁▁ |\n|QT_CONC_FINANC_NREEMB        |     19574|          0.99|       1.59|      9.09|       0|       0|       0|       0|     1376|▇▁▁▁▁ |\n|QT_CONC_PROUNII              |     19574|          0.99|       0.38|      2.21|       0|       0|       0|       0|      375|▇▁▁▁▁ |\n|QT_CONC_PROUNIP              |     19574|          0.99|       0.13|      1.48|       0|       0|       0|       0|      231|▇▁▁▁▁ |\n|QT_CONC_NRPFIES              |     19574|          0.99|       0.97|      7.47|       0|       0|       0|       0|     1303|▇▁▁▁▁ |\n|QT_CONC_FINANC_NREEMB_OUTROS |     19574|          0.99|       0.17|      2.27|       0|       0|       0|       0|      684|▇▁▁▁▁ |\n|QT_ING_RESERVA_VAGA          |     19574|          0.99|       0.82|      6.12|       0|       0|       0|       0|      770|▇▁▁▁▁ |\n|QT_ING_RVREDEPUBLICA         |     19574|          0.99|       0.68|      5.42|       0|       0|       0|       0|      666|▇▁▁▁▁ |\n|QT_ING_RVETNICO              |     19574|          0.99|       0.36|      3.02|       0|       0|       0|       0|      330|▇▁▁▁▁ |\n|QT_ING_RVPDEF                |     19574|          0.99|       0.01|      0.18|       0|       0|       0|       0|       34|▇▁▁▁▁ |\n|QT_ING_RVSOCIAL_RF           |     19574|          0.99|       0.26|      2.44|       0|       0|       0|       0|      308|▇▁▁▁▁ |\n|QT_ING_RVOUTROS              |     19574|          0.99|       0.03|      1.58|       0|       0|       0|       0|      770|▇▁▁▁▁ |\n|QT_MAT_RESERVA_VAGA          |     19574|          0.99|       2.45|     19.00|       0|       0|       0|       0|     3140|▇▁▁▁▁ |\n|QT_MAT_RVREDEPUBLICA         |     19574|          0.99|       1.98|     16.88|       0|       0|       0|       0|     3021|▇▁▁▁▁ |\n|QT_MAT_RVETNICO              |     19574|          0.99|       1.06|      9.45|       0|       0|       0|       0|     1069|▇▁▁▁▁ |\n|QT_MAT_RVPDEF                |     19574|          0.99|       0.02|      0.46|       0|       0|       0|       0|      123|▇▁▁▁▁ |\n|QT_MAT_RVSOCIAL_RF           |     19574|          0.99|       0.74|      7.64|       0|       0|       0|       0|     1531|▇▁▁▁▁ |\n|QT_MAT_RVOUTROS              |     19574|          0.99|       0.09|      2.80|       0|       0|       0|       0|      948|▇▁▁▁▁ |\n|QT_CONC_RESERVA_VAGA         |     19574|          0.99|       0.19|      2.13|       0|       0|       0|       0|      441|▇▁▁▁▁ |\n|QT_CONC_RVREDEPUBLICA        |     19574|          0.99|       0.15|      1.76|       0|       0|       0|       0|      302|▇▁▁▁▁ |\n|QT_CONC_RVETNICO             |     19574|          0.99|       0.07|      1.00|       0|       0|       0|       0|      249|▇▁▁▁▁ |\n|QT_CONC_RVPDEF               |     19574|          0.99|       0.00|      0.06|       0|       0|       0|       0|       36|▇▁▁▁▁ |\n|QT_CONC_RVSOCIAL_RF          |     19574|          0.99|       0.05|      0.74|       0|       0|       0|       0|      124|▇▁▁▁▁ |\n|QT_CONC_RVOUTROS             |     19574|          0.99|       0.01|      0.62|       0|       0|       0|       0|      323|▇▁▁▁▁ |\n|QT_SIT_TRANCADA              |     19574|          0.99|       8.04|     36.34|       0|       0|       0|       3|     3675|▇▁▁▁▁ |\n|QT_SIT_DESVINCULADO          |     19574|          0.99|      11.90|     40.38|       0|       0|       1|       8|    12110|▇▁▁▁▁ |\n|QT_SIT_TRANSFERIDO           |     19574|          0.99|       0.66|      8.49|       0|       0|       0|       0|     4005|▇▁▁▁▁ |\n|QT_SIT_FALECIDO              |     19574|          0.99|       0.01|      0.13|       0|       0|       0|       0|       29|▇▁▁▁▁ |\n|QT_ING_PROCESCPUBLICA        |     19574|          0.99|      12.79|     38.92|       0|       0|       2|       8|     3486|▇▁▁▁▁ |\n|QT_ING_PROCESCPRIVADA        |     19574|          0.99|       4.72|     23.08|       0|       0|       0|       1|     4304|▇▁▁▁▁ |\n|QT_ING_PROCNAOINFORMADA      |     19574|          0.99|       2.35|     24.71|       0|       0|       0|       0|    12082|▇▁▁▁▁ |\n|QT_MAT_PROCESCPUBLICA        |     19574|          0.99|      28.81|     88.93|       0|       0|       2|      16|     6833|▇▁▁▁▁ |\n|QT_MAT_PROCESCPRIVADA        |     19574|          0.99|      13.04|     67.51|       0|       0|       0|       2|     7457|▇▁▁▁▁ |\n|QT_MAT_PROCNAOINFORMADA      |     19574|          0.99|       8.75|     68.23|       0|       0|       0|       0|    16351|▇▁▁▁▁ |\n|QT_CONC_PROCESCPUBLICA       |     19574|          0.99|       3.98|     15.58|       0|       0|       0|       1|     2807|▇▁▁▁▁ |\n|QT_CONC_PROCESCPRIVADA       |     19574|          0.99|       1.78|     10.89|       0|       0|       0|       0|     1351|▇▁▁▁▁ |\n|QT_CONC_PROCNAOINFORMADA     |     19574|          0.99|       1.59|     17.03|       0|       0|       0|       0|     6435|▇▁▁▁▁ |\n|QT_PARFOR                    |     19574|          0.99|       0.36|     13.31|       0|       0|       0|       0|     5059|▇▁▁▁▁ |\n|QT_ING_PARFOR                |     19574|          0.99|       0.07|      3.45|       0|       0|       0|       0|     1139|▇▁▁▁▁ |\n|QT_MAT_PARFOR                |     19574|          0.99|       0.28|     10.60|       0|       0|       0|       0|     4416|▇▁▁▁▁ |\n|QT_CONC_PARFOR               |     19574|          0.99|       0.05|      4.25|       0|       0|       0|       0|     3868|▇▁▁▁▁ |\n|QT_APOIO_SOCIAL              |     19574|          0.99|       6.78|     45.17|       0|       0|       0|       0|     6212|▇▁▁▁▁ |\n|QT_ING_APOIO_SOCIAL          |     19574|          0.99|       1.95|     13.38|       0|       0|       0|       0|     1879|▇▁▁▁▁ |\n|QT_MAT_APOIO_SOCIAL          |     19574|          0.99|       5.38|     35.38|       0|       0|       0|       0|     3514|▇▁▁▁▁ |\n|QT_CONC_APOIO_SOCIAL         |     19574|          0.99|       0.74|      5.59|       0|       0|       0|       0|      571|▇▁▁▁▁ |\n|QT_ATIV_EXTRACURRICULAR      |     19574|          0.99|       9.33|     66.72|       0|       0|       0|       0|     8457|▇▁▁▁▁ |\n|QT_ING_ATIV_EXTRACURRICULAR  |     19574|          0.99|       2.09|     18.43|       0|       0|       0|       0|     3907|▇▁▁▁▁ |\n|QT_MAT_ATIV_EXTRACURRICULAR  |     19574|          0.99|       8.10|     56.11|       0|       0|       0|       0|     6970|▇▁▁▁▁ |\n|QT_CONC_ATIV_EXTRACURRICULAR |     19574|          0.99|       1.39|     10.60|       0|       0|       0|       0|     1627|▇▁▁▁▁ |\n|QT_MOB_ACADEMICA             |     19574|          0.99|       0.07|      1.88|       0|       0|       0|       0|      581|▇▁▁▁▁ |\n|QT_ING_MOB_ACADEMICA         |     19574|          0.99|       0.00|      0.26|       0|       0|       0|       0|      130|▇▁▁▁▁ |\n|QT_MAT_MOB_ACADEMICA         |     19574|          0.99|       0.06|      1.68|       0|       0|       0|       0|      523|▇▁▁▁▁ |\n|QT_CONC_MOB_ACADEMICA        |     19574|          0.99|       0.00|      0.22|       0|       0|       0|       0|      107|▇▁▁▁▁ |\n:::\n:::\n\n\n## 6. Create new data frames\n\n### 6.1. Students profile\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstudents <- listed_df %>%\n  unnest(cols = '.') %>% # unlist and merge data.frames\n  janitor::clean_names() %>%\n  select(co_ies, nu_ano_censo, no_regiao, no_uf, starts_with('qt_in')) %>%\n  right_join(regions_states, by = c('co_ies', 'no_regiao', 'no_uf')) %>%\n  group_by(nu_ano_censo, no_regiao, no_uf) %>%\n  summarise_all(sum, na.rm = T) %>%\n  ungroup()\n```\n:::\n\n\n### 6.2. Statistics tests\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstats_df <- students %>%\n  mutate(data = zoo::as.yearmon(nu_ano_censo)) %>%\n  group_by(data, no_regiao, no_uf) %>%\n  summarise_if(is.numeric, sum) %>%\n  ungroup() %>%\n  select(data, no_regiao, no_uf, qt_ing_fem:qt_ing_noturno, qt_ing_0_17:qt_ing_cornd,\n         qt_ing_financ:qt_ing_apoio_social) %>%\n  gather('var', 'value', 4:42) %>%\n  group_by(data, no_regiao, no_uf, var) %>%\n  summarise_if(is.numeric, sum) %>%\n  ungroup()\n```\n:::\n\n\n### 6.3. Names for linear model table\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlabels_table_model <- c(`(Intercept)` = 'Intercept',\n                        `as.factor(var)qt_ing_fem` = 'Sex (Female)',\n                        `as.factor(var)qt_ing_masc` = 'Sex (Male)',\n                        `as.factor(var)qt_ing_amarela` = 'Ethnic (Asian)',\n                        `as.factor(var)qt_ing_branca` = 'Ethnic (White)',\n                        `as.factor(var)qt_ing_parda` = 'Ethnic (Brown)',\n                        `as.factor(var)qt_ing_preta` = 'Ethnic (Black)',\n                        `as.factor(var)qt_ing_indigena` = 'Ethnic (Indigenous)',\n                        `as.factor(var)qt_ing_cornd` = 'Ethnic (Not declared)',\n                        `as.factor(var)qt_ing_0_17` = 'Age (<18)',\n                        `as.factor(var)qt_ing_18_24` = 'Age (18~24)', \n                        `as.factor(var)qt_ing_25_29` = 'Age (25~29)', \n                        `as.factor(var)qt_ing_30_34` = 'Age (30~34)', \n                        `as.factor(var)qt_ing_35_39` = 'Age (35~39)', \n                        `as.factor(var)qt_ing_40_49` = 'Age (40~49)', \n                        `as.factor(var)qt_ing_50_59` = 'Age (50~59)', \n                        `as.factor(var)qt_ing_60_mais` = 'Age (>60)',\n                        `as.factor(var)qt_ing_diurno` = 'Shift (Diurnal)',\n                        `as.factor(var)qt_ing_noturno` = 'Shift (Nocturnal)',\n                        `as.factor(var)qt_ing_procescprivada` = 'Type high school (Private)',\n                        `as.factor(var)qt_ing_procescpublica` = 'Type high school (Public)',\n                        `as.factor(var)qt_ing_procnaoinformada` = 'Type high school (Not declared)',\n                        `as.factor(var)qt_ing_apoio_social` = 'Any Social Support',\n                        `as.factor(var)qt_ing_reserva_vaga` = 'Social Support (Quotas)',\n                        `as.factor(var)qt_ing_rvetnico` = 'Social Support (Ethnic quotas)',\n                        `as.factor(var)qt_ing_rvoutros` =  'Social Support (Other quotas)',\n                        `as.factor(var)qt_ing_rvpdef` =  'Social Support (Disabilities quotas)',\n                        `as.factor(var)qt_ing_rvredepublica` =  'Social Support (Public high school quotas)',\n                        `as.factor(var)qt_ing_rvsocial_rf` =  'Social Support (Family income quotas)',\n                        `as.factor(var)qt_ing_parfor` = 'Social Support (PARFOR)',\n                        `as.factor(var)qt_ing_financ` = 'Income Support',\n                        `as.factor(var)qt_ing_financ_nreemb` = 'Income Support (Non-refundable)', \n                        `as.factor(var)qt_ing_financ_nreemb_outros` = 'Income Support (Non-refundable others)',\n                        `as.factor(var)qt_ing_financ_reemb` = 'Income Support (Refundable)', \n                        `as.factor(var)qt_ing_financ_reemb_outros` = 'Income Support (Refundable others)',\n                        `as.factor(var)qt_ing_fies` = 'Income Support (FIES)',\n                        `as.factor(var)qt_ing_rpfies` = 'Income Support (Refundable FIES)',\n                        `as.factor(var)qt_ing_nrpfies` = 'Income Support (Non-refundable FIES)',\n                        `as.factor(var)qt_ing_prounii` = 'Income Support (PROUNI whole)',\n                        `as.factor(var)qt_ing_prounip` = 'Income Support (PROUNI parcial)',\n                        data = 'Date',\n                        `as.factor(no_regiao)Nordeste` = 'Region (Nordeste)',\n                        `as.factor(no_regiao)Norte` = 'Region (Norte)',\n                        `as.factor(no_regiao)Sudeste` = 'Region (Sudeste)',\n                        `as.factor(no_regiao)Sul` = 'Region (Sul)',\n                        `as.factor(no_uf)Alagoas` = 'State (Alagoas)',\n                        `as.factor(no_uf)Amapá` = 'State (Amapá)',\n                        `as.factor(no_uf)Amazonas` = 'State (Amazonas)',\n                        `as.factor(no_uf)Bahia` = 'State (Bahia)',\n                        `as.factor(no_uf)Ceará`\t= 'State (Ceará)',\n                        `as.factor(no_uf)Distrito Federal` = 'State (Distrito Federal)',\n                        `as.factor(no_uf)Espírito Santo` = 'State (Espirito Santo)',\n                        `as.factor(no_uf)Goiás` = 'State (Goiás)',\n                        `as.factor(no_uf)Maranhão` = 'State (Maranhão)',\n                        `as.factor(no_uf)Mato Grosso` = 'State (Mato Grosso)',\n                        `as.factor(no_uf)Minas Gerais` = 'State (Minas Gerais)',\n                        `as.factor(no_uf)Pará` = 'State (Pará)',\n                        `as.factor(no_uf)Paraíba` = 'State (Paraíba)',\n                        `as.factor(no_uf)Paraná` = 'State (Paraná)',\n                        `as.factor(no_uf)Pernambuco` = 'State (Alagoas)',\n                        `as.factor(no_uf)Piauí` = 'State (Pernambuco)',\n                        `as.factor(no_uf)Rio de Janeiro` = 'State (Rio de Janeiro)',\n                        `as.factor(no_uf)Rio Grande do Norte` = 'State (Rio Grande do Norte)',\n                        `as.factor(no_uf)Rio Grande do Sul` = 'State (Rio Grande do Sul)',\n                        `as.factor(no_uf)Rondônia` = 'State (Rondônia)',\n                        `as.factor(no_uf)Roraima` = 'State (Roraima)',\n                        `as.factor(no_uf)Tocantins` = 'State (Tocantins)'\n                        )\n```\n:::\n\n\n### 6.4. Cluster - Region and Sex\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncluster_regiao_sex <- stats_df %>%\n  pivot_wider(names_from = var, values_from = value) %>%\n  group_by(no_regiao) %>%\n  summarise_if(is.numeric, sum) %>%\n  select(no_regiao, Male = qt_ing_masc, Female = qt_ing_fem)\n\nnames_cluster_regiao_sex <- cluster_regiao_sex$no_regiao\n\ncluster_regiao_sex <- scale(cluster_regiao_sex[,2:3])\n\nrownames(cluster_regiao_sex) <- names_cluster_regiao_sex\n```\n:::\n\n\n### 6.5. Cluster - States and Sex\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncluster_uf_sex <- stats_df %>%\n  pivot_wider(names_from = var, values_from = value) %>%\n  group_by(no_uf) %>%\n  summarise_if(is.numeric, sum) %>%\n  select(no_uf, Male = qt_ing_masc, Female = qt_ing_fem) %>%\n  ungroup()\n\nnames_cluster_uf_sex <- cluster_uf_sex$no_uf\n\ncluster_uf_sex <- scale(cluster_uf_sex[,2:3])\n\nrownames(cluster_uf_sex) <- names_cluster_uf_sex\n```\n:::\n\n\n### 6.6. Cluster - Region and Ethnic group\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncluster_regiao_ethnic <- stats_df %>%\n  pivot_wider(names_from = var, values_from = value) %>%\n  group_by(no_regiao) %>%\n  summarise_if(is.numeric, sum) %>%\n  select(no_regiao, \n         White = qt_ing_branca, \n         Black = qt_ing_preta,\n         Brown = qt_ing_parda,\n         Asian = qt_ing_amarela,\n         Not_declared = qt_ing_cornd) %>%\n  ungroup()\n\nnames_cluster_regiao_ethnic <- cluster_regiao_ethnic$no_regiao\n\ncluster_regiao_ethnic <- scale(cluster_regiao_ethnic[,2:6])\n\nrownames(cluster_regiao_ethnic) <- names_cluster_regiao_ethnic\n```\n:::\n\n\n### 6.7. Cluster - States and ethnic group\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncluster_uf_ethnic <- stats_df %>%\n  pivot_wider(names_from = var, values_from = value) %>%\n  group_by(no_uf) %>%\n  summarise_if(is.numeric, sum) %>%\n  select(no_uf, \n         White = qt_ing_branca, \n         Black = qt_ing_preta,\n         Brown = qt_ing_parda,\n         Asian = qt_ing_amarela,\n         Not_declared = qt_ing_cornd) %>%\n  ungroup()\n\nnames_cluster_uf_ethnic <- cluster_uf_ethnic$no_uf\n\ncluster_uf_ethnic <- scale(cluster_uf_ethnic[,2:6])\n\nrownames(cluster_uf_ethnic) <- names_cluster_uf_ethnic\n```\n:::\n\n\n:::\n\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}